<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Buy Paper Page</title>
        <script src="js/nav.js"></script>
        <link rel="stylesheet" href="css/buy-paper.css" />
        <script>
            const pricePerUnit = 400; 
            let totalPrice = 0; 
            let selectedQuantity = 0; 

           
            function selectCombo(quantity) {
                selectedQuantity = quantity; 
                const userInput = parseInt(document.getElementById("userInput").value) || 0; 
                const finalQuantity = userInput > 0 ? userInput : selectedQuantity; 
                totalPrice = pricePerUnit * finalQuantity; 
                document.querySelector(".text-wrapper-7").innerText = totalPrice.toLocaleString() + " VND"; 
                alert(`Bạn đã chọn combo ${quantity} giấy. Tổng tiền hiện tại là: ${totalPrice.toLocaleString()} VND`); 
            }

            
            function updateTotal() {
        const userInput = parseInt(document.getElementById("userInput").value); 
        if (userInput > 0) {
           
            totalPrice = pricePerUnit * userInput;
            document.querySelector(".text-wrapper-7").innerText = totalPrice.toLocaleString() + " VND"; 
        } else if (userInput === 0) {
            
            totalPrice = 0;
            document.querySelector(".text-wrapper-7").innerText = "0 VND";
        } else if (selectedQuantity > 0) {
            
            totalPrice = pricePerUnit * selectedQuantity;
            document.querySelector(".text-wrapper-7").innerText = totalPrice.toLocaleString() + " VND";
        } else {
            
            totalPrice = 0;
            document.querySelector(".text-wrapper-7").innerText = "0 VND";
        }
    }


           
            function addToTotal() {
                if (totalPrice > 0) {
                    alert("Bạn đã thêm vào giỏ hàng thành công!");
                } else {
                    alert("Vui lòng chọn combo hoặc nhập số lượng giấy hợp lệ.");
                }
            }
        </script>
    </head>
    <body>
        <div id="nav-placeholder"></div>
        <div class="container">
            <!-- input here -->
            <div class="frame-wrapper">
                <div class="frame-3">
                    <div class="frame-4">
                        <div class="combo">
                            <div class="title">Combo</div>
                            <div class="price">
                                <!-- Gắn sự kiện onclick để chọn combo -->
                                <button class="price-button" onclick="selectCombo(50)">
                                    50 giấy - 20.000 VND
                                </button>
                                <button class="price-button" onclick="selectCombo(100)">
                                    100 giấy - 40.000 VND
                                </button>
                                <button class="price-button" onclick="selectCombo(200)">
                                    200 giấy - 80.000 VND
                                </button>
                            </div>
                        </div>

                        <div class="user_input">
                            <div class="title">Nhập số lượng giấy muốn mua</div>
                            <!-- Ô nhập số lượng giấy -->
                            <input
                                type="text"
                                class="rectangle-2"
                                id="userInput"
                                placeholder="Nhập số lượng giấy"
                                oninput="updateTotal()"
                            />
                        </div>
                        <button class="overlap-group-wrapper" onclick="addToTotal()">Thêm</button>

                        <div class="content">
                            <div class="text-wrapper-6">Tổng tiền</div>
                            <!-- Tổng tiền sẽ được cập nhật tại đây -->
                            <div class="text-wrapper-7">0 VND</div>
                        </div>
                    </div>
                    <div class="pay-price">
                        <button class="pay-button">Thanh toán</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
